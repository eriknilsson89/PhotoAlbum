<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class TFileLogRoute</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class TFileLogRoute</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-vars">Vars</a>
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">TFileLogRoute class.</p>
<p class="description"><p>TFileLogRoute records log messages in files.  The log files are stored under <a href="../System.Util/TFileLogRoute.html#methodsetLogPath">LogPath</a> and the file name  is specified by <a href="../System.Util/TFileLogRoute.html#methodsetLogFile">LogFile</a>. If the size of the log file is  greater than <a href="../System.Util/TFileLogRoute.html#methodsetMaxFileSize">MaxFileSize</a> (in kilo-bytes), a rotation  is performed, which renames the current log file by suffixing the file name  with '.1'. All existing log files are moved backwards one place, i.e., '.2'  to '.3', '.1' to '.2'. The property <a href="../System.Util/TFileLogRoute.html#methodsetMaxLogFiles">MaxLogFiles</a>  specifies how many files to be kept.</p></p>
	<ul class="tags">
				<li><span class="field">since:</span> 3.0</li>
				<li><span class="field">version:</span> $Id: TLogRouter.php 2938 2011-06-01 07:46:44Z ctrlaltca@gmail.com $</li>
				<li><span class="field">author:</span> Qiang Xue &lt;<a href="mailto:qiang.xue@gmail.com">qiang.xue@gmail.com</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_Util_TLogRouter_php.html">/Util/TLogRouter.php</a> (line <span class="field">339</span>)
		</p>
		
				
		<pre><a href="../System/TComponent.html">TComponent</a>
   |
   --<a href="../System/TApplicationComponent.html">TApplicationComponent</a>
      |
      --<a href="../System.Util/TLogRoute.html">TLogRoute</a>
         |
         --TFileLogRoute</pre>
	
			</div>
</div>




	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-vars">Vars</a>
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
								
				<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#getLogFile" title="details" class="method-name">getLogFile</a>
										()
									</div>
								
				<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#getLogPath" title="details" class="method-name">getLogPath</a>
										()
									</div>
								
				<div class="method-definition">
											<span class="method-result">integer</span>
										<a href="#getMaxFileSize" title="details" class="method-name">getMaxFileSize</a>
										()
									</div>
								
				<div class="method-definition">
											<span class="method-result">integer</span>
										<a href="#getMaxLogFiles" title="details" class="method-name">getMaxLogFiles</a>
										()
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#processLogs" title="details" class="method-name">processLogs</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$logs</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#rotateFiles" title="details" class="method-name">rotateFiles</a>
										()
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setLogFile" title="details" class="method-name">setLogFile</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$value</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setLogPath" title="details" class="method-name">setLogPath</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$value</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setMaxFileSize" title="details" class="method-name">setMaxFileSize</a>
											(<span class="var-type">integer</span>&nbsp;<span class="var-name">$value</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setMaxLogFiles" title="details" class="method-name">setMaxLogFiles</a>
											(<span class="var-type">integer</span>&nbsp;<span class="var-name">$value</span>)
									</div>
							</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
										<h4>Inherited Variables</h4>
				<A NAME='inherited_vars'><!-- --></A>
									<p>Inherited from <span class="classname"><a href="../System.Util/TLogRoute.html">TLogRoute</a></span></p>
					<blockquote>
													<span class="var-title">
								<span class="var-name"><a href="../System.Util/TLogRoute.html#var$_levelNames">TLogRoute::$_levelNames</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../System.Util/TLogRoute.html#var$_levelValues">TLogRoute::$_levelValues</a></span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-vars">Vars</a>
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodgetLogFile" id="getLogFile"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">getLogFile</span> (line <span class="line-number">381</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">return:</span> log file name. Defaults to 'prado.log'.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getLogFile
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodgetLogPath" id="getLogPath"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getLogPath</span> (line <span class="line-number">361</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">return:</span> directory storing log files. Defaults to application runtime path.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getLogPath
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodgetMaxFileSize" id="getMaxFileSize"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">getMaxFileSize</span> (line <span class="line-number">397</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">return:</span> maximum log file size in kilo-bytes (KB). Defaults to 1024 (1MB).</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">integer</span>
		<span class="method-name">
			getMaxFileSize
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodgetMaxLogFiles" id="getMaxLogFiles"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getMaxLogFiles</span> (line <span class="line-number">416</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">return:</span> number of files used for rotation. Defaults to 2.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">integer</span>
		<span class="method-name">
			getMaxLogFiles
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodprocessLogs" id="processLogs"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">processLogs</span> (line <span class="line-number">435</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Saves log messages in files.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			processLogs
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$logs</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$logs</span><span class="var-description">: list of log messages</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../System.Util/TLogRoute.html#methodprocessLogs">TLogRoute::processLogs()</a></dt>
						<dd>Processes log messages and sends them to specific destination.</dd>
					</dl>
		
	</div>
<a name="methodrotateFiles" id="rotateFiles"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">rotateFiles</span> (line <span class="line-number">447</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Rotates log files.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			rotateFiles
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodsetLogFile" id="setLogFile"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">setLogFile</span> (line <span class="line-number">389</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setLogFile
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$value</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$value</span><span class="var-description">: log file name</span>			</li>
				</ul>
		
		
	</div>
<a name="methodsetLogPath" id="setLogPath"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">setLogPath</span> (line <span class="line-number">372</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
				<li><span class="field">throws:</span> TConfigurationException if log path is invalid</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setLogPath
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$value</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$value</span><span class="var-description">: directory (in namespace format) storing log files.</span>			</li>
				</ul>
		
		
	</div>
<a name="methodsetMaxFileSize" id="setMaxFileSize"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">setMaxFileSize</span> (line <span class="line-number">406</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
				<li><span class="field">throws:</span> TInvalidDataValueException if the value is smaller than 1.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setMaxFileSize
		</span>
					(<span class="var-type">integer</span>&nbsp;<span class="var-name">$value</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$value</span><span class="var-description">: maximum log file size in kilo-bytes (KB).</span>			</li>
				</ul>
		
		
	</div>
<a name="methodsetMaxLogFiles" id="setMaxLogFiles"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">setMaxLogFiles</span> (line <span class="line-number">424</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setMaxLogFiles
		</span>
					(<span class="var-type">integer</span>&nbsp;<span class="var-name">$value</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$value</span><span class="var-description">: number of files used for rotation.</span>			</li>
				</ul>
		
		
	</div>
							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../System.Util/TLogRoute.html">TLogRoute</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodcollectLogs">TLogRoute::collectLogs()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodformatLogMessage">TLogRoute::formatLogMessage()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodgetCategories">TLogRoute::getCategories()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodgetLevelName">TLogRoute::getLevelName()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodgetLevels">TLogRoute::getLevels()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodgetLevelValue">TLogRoute::getLevelValue()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodinit">TLogRoute::init()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodprocessLogs">TLogRoute::processLogs()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodsetCategories">TLogRoute::setCategories()</a></span><br>
													<span class="method-name"><a href="../System.Util/TLogRoute.html#methodsetLevels">TLogRoute::setLevels()</a></span><br>
											</blockquote>
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../System/TApplicationComponent.html">TApplicationComponent</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../System/TApplicationComponent.html#methodgetApplication">TApplicationComponent::getApplication()</a></span><br>
													<span class="method-name"><a href="../System/TApplicationComponent.html#methodgetRequest">TApplicationComponent::getRequest()</a></span><br>
													<span class="method-name"><a href="../System/TApplicationComponent.html#methodgetResponse">TApplicationComponent::getResponse()</a></span><br>
													<span class="method-name"><a href="../System/TApplicationComponent.html#methodgetService">TApplicationComponent::getService()</a></span><br>
													<span class="method-name"><a href="../System/TApplicationComponent.html#methodgetSession">TApplicationComponent::getSession()</a></span><br>
													<span class="method-name"><a href="../System/TApplicationComponent.html#methodgetUser">TApplicationComponent::getUser()</a></span><br>
													<span class="method-name"><a href="../System/TApplicationComponent.html#methodpublishAsset">TApplicationComponent::publishAsset()</a></span><br>
													<span class="method-name"><a href="../System/TApplicationComponent.html#methodpublishFilePath">TApplicationComponent::publishFilePath()</a></span><br>
											</blockquote>
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../System/TComponent.html">TComponent</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../System/TComponent.html#methodaddParsedObject">TComponent::addParsedObject()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodattachEventHandler">TComponent::attachEventHandler()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodcanGetProperty">TComponent::canGetProperty()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodcanSetProperty">TComponent::canSetProperty()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodcreatedOnTemplate">TComponent::createdOnTemplate()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methoddetachEventHandler">TComponent::detachEventHandler()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodevaluateExpression">TComponent::evaluateExpression()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodevaluateStatements">TComponent::evaluateStatements()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodgetEventHandlers">TComponent::getEventHandlers()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodgetSubProperty">TComponent::getSubProperty()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodhasEvent">TComponent::hasEvent()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodhasEventHandler">TComponent::hasEventHandler()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodhasProperty">TComponent::hasProperty()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodraiseEvent">TComponent::raiseEvent()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#methodsetSubProperty">TComponent::setSubProperty()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#method__get">TComponent::__get()</a></span><br>
													<span class="method-name"><a href="../System/TComponent.html#method__set">TComponent::__set()</a></span><br>
											</blockquote>
										
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Sun, 24 Jul 2011 21:15:07 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.0RC4</a>
	</p>
	</div></body>
</html>